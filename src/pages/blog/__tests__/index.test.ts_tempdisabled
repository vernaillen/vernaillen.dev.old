import { shallowMount, RouterLinkStub } from "@vue/test-utils";
import { describe, it, vi } from "vitest";
import { createTestingPinia } from "@pinia/testing";
import { expect } from "chai";
import days from "@/plugins/days";
import index from "@/pages/blog/index.vue";

describe("blog/index.vue", () => {
  it("should render", () => {
    const blog = {
      getPosts: vi.fn(),
    };
    shallowMount(index, {
      global: {
        mocks: {
          blog,
        },
        stubs: {
          RouterLink: RouterLinkStub,
        },
        plugins: [days, createTestingPinia()],
      },
    });
    //expect(wrapper.vm.imageUrl()).toBe("");
    expect(blog.getPosts).toHaveBeenCalledTimes(1);
  });
});
